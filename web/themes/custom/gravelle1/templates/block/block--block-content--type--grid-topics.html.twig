{# Generic template for grid_topics; delegates to SDC #}
{% set classes = [
  'block',
  'block-' ~ configuration.provider|clean_class,
  'block-type--grid_topics',
  'block-view-mode--' ~ (block_view_mode|default('default')),
] %}
<div{{ attributes.addClass(classes) }}>
  {{ title_prefix }}{{ title_suffix }}
  {% block content %}
    {% set _link_obj = content.field_block_link is defined and content.field_block_link|render|striptags|trim ? content.field_block_link.0['#url'] : null %}
    {% set _link_url = _link_obj %}
    {% set _link_title = content.field_block_link is defined and content.field_block_link|render|striptags|trim ? content.field_block_link.0['#title'] : null %}
    {% set _image = content.field_block_image is defined ? content.field_block_image|render : null %}
    {% set _text = content.field_block_text is defined ? content.field_block_text|render : '' %}
    {% set _vm = block_view_mode|default('default') %}
    {% set _items_html = content.field_block_items is defined ? content.field_block_items|render : null %}
    {% set _columns = 3 %}
    {{ include('@gravelle1/components/grid_topics/grid_topics.html.twig', {
      props: {
        has_label: label ? true : false,
        label: label,
        text: _text,
        url: _link_url,
        link_title: _link_title,
        image: _image,
        items_html: _items_html,
        columns: _columns,
        view_mode: _vm,
      }
    }) }}
  {% endblock %}
</div>
